<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BOLT12 Has Arrived | Lightning Dev Kit Documentation</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="preload" href="/fonts/ibm-plex-mono-400.woff2" as="font" crossorigin="true">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="stylesheet" href="/css/variables.css">
    <link name="msapplication-config" content="/browserconfig.xml">
    <link name="msapplication-TileColor" content="#ffffff">
    <link name="theme-color" content="#ffffff">
    <meta name="description" content="BOLT12 offers enhanced privacy, reusable payment codes, refunds, and much more, all natively over the Lightning Network.">
    <meta property="article:published_time" content="2024-04-30T00:00:00.000Z">
    <meta property="og:site_name" content="Lightning Dev Kit Documentation">
    <meta property="og:title" content="BOLT12 Has Arrived">
    <meta property="og:description" content="BOLT12 offers enhanced privacy, reusable payment codes, refunds, and much more, all natively over the Lightning Network.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://lightningdevkit.org/_blog/bolt12-has-arrived/">
    <meta property="og:image" content="https://lightningdevkit.org/card.png">
    <meta name="twitter:title" content="BOLT12 Has Arrived">
    <meta name="twitter:description" content="BOLT12 offers enhanced privacy, reusable payment codes, refunds, and much more, all natively over the Lightning Network.">
    <meta name="twitter:url" content="https://lightningdevkit.org/_blog/bolt12-has-arrived/">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://lightningdevkit.org/card.png">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Offers, Onion Messages, Privacy">
    <meta property="article:tag" content="Offers">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    
    <link rel="preload" href="/assets/css/0.styles.097f5d83.css" as="style"><link rel="preload" href="/assets/js/app.c3c35535.js" as="script"><link rel="preload" href="/assets/js/9.4b00279e.js" as="script"><link rel="preload" href="/assets/js/1.9b656a97.js" as="script"><link rel="preload" href="/assets/js/12.0cfb594b.js" as="script"><link rel="prefetch" href="/assets/js/10.0914a60c.js"><link rel="prefetch" href="/assets/js/11.706abdfa.js"><link rel="prefetch" href="/assets/js/13.d8286a7d.js"><link rel="prefetch" href="/assets/js/14.21d8c193.js"><link rel="prefetch" href="/assets/js/15.d9b61958.js"><link rel="prefetch" href="/assets/js/16.53a46f32.js"><link rel="prefetch" href="/assets/js/17.f866cb8e.js"><link rel="prefetch" href="/assets/js/18.9a6c3d52.js"><link rel="prefetch" href="/assets/js/19.bdaf8375.js"><link rel="prefetch" href="/assets/js/20.231968cb.js"><link rel="prefetch" href="/assets/js/21.a12a4929.js"><link rel="prefetch" href="/assets/js/22.df31e0c6.js"><link rel="prefetch" href="/assets/js/23.ad79a116.js"><link rel="prefetch" href="/assets/js/24.a7f20f18.js"><link rel="prefetch" href="/assets/js/25.7ec0cd9d.js"><link rel="prefetch" href="/assets/js/26.e8ec0caa.js"><link rel="prefetch" href="/assets/js/27.884f9220.js"><link rel="prefetch" href="/assets/js/28.36aebcf0.js"><link rel="prefetch" href="/assets/js/29.622684f1.js"><link rel="prefetch" href="/assets/js/30.3e5120e3.js"><link rel="prefetch" href="/assets/js/31.b5c84701.js"><link rel="prefetch" href="/assets/js/32.dd4696f4.js"><link rel="prefetch" href="/assets/js/33.0336b41c.js"><link rel="prefetch" href="/assets/js/34.f4e9796e.js"><link rel="prefetch" href="/assets/js/35.30820343.js"><link rel="prefetch" href="/assets/js/36.402c7d5d.js"><link rel="prefetch" href="/assets/js/37.ad47f9d9.js"><link rel="prefetch" href="/assets/js/38.fb71ac7c.js"><link rel="prefetch" href="/assets/js/39.bb832ec4.js"><link rel="prefetch" href="/assets/js/40.6c5fb298.js"><link rel="prefetch" href="/assets/js/41.f9d107ee.js"><link rel="prefetch" href="/assets/js/42.40b52936.js"><link rel="prefetch" href="/assets/js/43.08e48d27.js"><link rel="prefetch" href="/assets/js/44.44964722.js"><link rel="prefetch" href="/assets/js/45.723615c5.js"><link rel="prefetch" href="/assets/js/46.fb97f71c.js"><link rel="prefetch" href="/assets/js/47.01afbe50.js"><link rel="prefetch" href="/assets/js/48.d233af89.js"><link rel="prefetch" href="/assets/js/49.ee02b362.js"><link rel="prefetch" href="/assets/js/5.bb6f7a25.js"><link rel="prefetch" href="/assets/js/50.b1b8f08d.js"><link rel="prefetch" href="/assets/js/51.71bd058d.js"><link rel="prefetch" href="/assets/js/52.0f0faee4.js"><link rel="prefetch" href="/assets/js/53.e7ff9004.js"><link rel="prefetch" href="/assets/js/54.deb03d18.js"><link rel="prefetch" href="/assets/js/55.e7f768b7.js"><link rel="prefetch" href="/assets/js/56.c5a2c72d.js"><link rel="prefetch" href="/assets/js/57.28652981.js"><link rel="prefetch" href="/assets/js/58.fa73ea0b.js"><link rel="prefetch" href="/assets/js/59.3e6cc81b.js"><link rel="prefetch" href="/assets/js/6.fc2322f5.js"><link rel="prefetch" href="/assets/js/60.a8d263d0.js"><link rel="prefetch" href="/assets/js/61.44e91fb5.js"><link rel="prefetch" href="/assets/js/62.55acf785.js"><link rel="prefetch" href="/assets/js/63.a67404f2.js"><link rel="prefetch" href="/assets/js/64.dfa76cf4.js"><link rel="prefetch" href="/assets/js/65.d9607bc1.js"><link rel="prefetch" href="/assets/js/66.721d9331.js"><link rel="prefetch" href="/assets/js/67.1e707a5b.js"><link rel="prefetch" href="/assets/js/68.096faf56.js"><link rel="prefetch" href="/assets/js/69.9d887e76.js"><link rel="prefetch" href="/assets/js/7.c90cdbf6.js"><link rel="prefetch" href="/assets/js/70.c8526bbd.js"><link rel="prefetch" href="/assets/js/71.08ea01ca.js"><link rel="prefetch" href="/assets/js/8.8d36f0cf.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.50174a4b.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.2120b504.js">
    <link rel="stylesheet" href="/assets/css/0.styles.097f5d83.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-b812d5fc data-v-92b43a16><header class="navbar" data-v-b812d5fc><div class="wrap"><div class="wrap-border"><a href="/" class="home-link router-link-active"><svg role="img" alt="Lightning Dev Kit Documentation" class="logo"><use href="/img/logo.svg#small" class="small"></use> <use href="/img/logo.svg#large" class="large"></use></svg></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/introduction/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/case-studies/" class="nav-link">
  Case Studies
</a></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  Blog
</a></div><div class="nav-item"><a href="https://discord.gg/5AcknnMfBw" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/lightningdevkit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/lightningdevkit/lightningdevkit.org" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <button type="button" class="theme-switch"><svg viewBox="0 0 30 31" fill="none" xmlns="http://www.w3.org/2000/svg"><g class="theme-switch-dark"><path d="M15 20.4219C12.5187 20.4219 10.5 18.4032 10.5 15.9219C10.5 13.4406 12.5187 11.4219 15 11.4219C17.4813 11.4219 19.5 13.4406 19.5 15.9219C19.5 18.4032 17.4813 20.4219 15 20.4219Z" fill="currentColor"></path> <path d="M19.4541 20.3769L21.3644 22.2862M15 24.9219V22.2219V24.9219ZM15 9.62187V6.92188V9.62187ZM6 15.9219H8.7H6ZM21.3 15.9219H24H21.3ZM8.6361 22.2862L10.5454 20.3769L8.6361 22.2862ZM19.4541 11.4678L21.3644 9.55797L19.4541 11.4678ZM8.6361 9.55797L10.5454 11.4678L8.6361 9.55797Z" stroke="currentColor" stroke-width="1" stroke-linecap="round"></path></g> <g fill="currentColor" class="theme-switch-light"><path d="M10.1539 8.75585C10.018 8.75585 9.88774 8.70189 9.79168 8.60583C9.69563 8.50977 9.64166 8.37949 9.64166 8.24365V6.19482C9.64166 6.05898 9.69563 5.9287 9.79168 5.83264C9.88774 5.73658 10.018 5.68262 10.1539 5.68262C10.2897 5.68262 10.42 5.73658 10.5161 5.83264C10.6121 5.9287 10.6661 6.05898 10.6661 6.19482V8.24365C10.6661 8.37949 10.6121 8.50977 10.5161 8.60583C10.42 8.70189 10.2897 8.75585 10.1539 8.75585Z"></path> <path d="M11.1783 7.73144H9.12945C8.9936 7.73144 8.86332 7.67748 8.76726 7.58142C8.6712 7.48536 8.61724 7.35508 8.61724 7.21924C8.61724 7.08339 8.6712 6.95311 8.76726 6.85705C8.86332 6.761 8.9936 6.70703 9.12945 6.70703H11.1783C11.3141 6.70703 11.4444 6.761 11.5405 6.85705C11.6365 6.95311 11.6905 7.08339 11.6905 7.21924C11.6905 7.35508 11.6365 7.48536 11.5405 7.58142C11.4444 7.67748 11.3141 7.73144 11.1783 7.73144ZM6.05621 13.8779C5.92037 13.8779 5.79009 13.8239 5.69403 13.7279C5.59797 13.6318 5.54401 13.5015 5.54401 13.3657V12.3413C5.54401 12.2054 5.59797 12.0752 5.69403 11.9791C5.79009 11.8831 5.92037 11.8291 6.05621 11.8291C6.19206 11.8291 6.32234 11.8831 6.4184 11.9791C6.51445 12.0752 6.56842 12.2054 6.56842 12.3413V13.3657C6.56842 13.5015 6.51445 13.6318 6.4184 13.7279C6.32234 13.8239 6.19206 13.8779 6.05621 13.8779Z"></path> <path d="M6.56842 13.366H5.544C5.40816 13.366 5.27788 13.312 5.18182 13.216C5.08576 13.1199 5.0318 12.9896 5.0318 12.8538C5.0318 12.7179 5.08576 12.5877 5.18182 12.4916C5.27788 12.3955 5.40816 12.3416 5.544 12.3416H6.56842C6.70426 12.3416 6.83454 12.3955 6.9306 12.4916C7.02666 12.5877 7.08062 12.7179 7.08062 12.8538C7.08062 12.9896 7.02666 13.1199 6.9306 13.216C6.83454 13.312 6.70426 13.366 6.56842 13.366ZM16.8125 23.6101C12.8583 23.6101 9.64165 20.3934 9.64165 16.4392C9.64165 12.8983 12.2851 9.85021 15.7907 9.34876L16.4658 9.25195L16.37 9.92755C16.326 10.218 16.3027 10.5112 16.3003 10.805C16.3003 14.1942 19.0575 16.9514 22.4468 16.9514C22.708 16.9514 22.9872 16.9294 23.3247 16.8813L23.9998 16.7855L23.9035 17.4606C23.401 20.9666 20.3524 23.6101 16.8125 23.6101Z"></path></g></svg></button></div> <div class="sidebar-button"><svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" class="icon"><g fill="currentColor" class="hamburger"><path d="M33.75 11.6699H6.25C5.55964 11.6699 5 12.2296 5 12.9199C5 13.6103 5.55964 14.1699 6.25 14.1699H33.75C34.4404 14.1699 35 13.6103 35 12.9199C35 12.2296 34.4404 11.6699 33.75 11.6699Z"></path> <path d="M28.75 18.752H6.25C5.55964 18.752 5 19.3116 5 20.002C5 20.6923 5.55964 21.252 6.25 21.252H28.75C29.4404 21.252 30 20.6923 30 20.002C30 19.3116 29.4404 18.752 28.75 18.752Z"></path> <path d="M33.75 25.8301H6.25C5.55964 25.8301 5 26.3897 5 27.0801C5 27.7704 5.55964 28.3301 6.25 28.3301H33.75C34.4404 28.3301 35 27.7704 35 27.0801C35 26.3897 34.4404 25.8301 33.75 25.8301Z"></path></g> <g stroke="currentColor" class="close"><path d="M10 10L30 30" stroke-width="2" stroke-linecap="round"></path> <path d="M30 10L10 30" stroke-width="2" stroke-linecap="round"></path></g></svg></div></div></div></header> <div class="wrap" data-v-b812d5fc><div class="wrap-border" data-v-b812d5fc><div class="sidebar-mask" data-v-b812d5fc></div> <aside class="sidebar" data-v-b812d5fc><nav class="nav-links"><div class="nav-item"><a href="/introduction/" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/case-studies/" class="nav-link">
  Case Studies
</a></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  Blog
</a></div><div class="nav-item"><a href="https://discord.gg/5AcknnMfBw" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/lightningdevkit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/lightningdevkit/lightningdevkit.org" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Blog</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/" aria-current="page" class="sidebar-link">Articles</a></li><li><a href="/blog/tags/" class="sidebar-link">Tags</a></li><li><a href="/blog/author/" class="sidebar-link">Authors</a></li></ul></section></li></ul> </aside> <main class="page" data-v-92b43a16><header class="theme-default-content post-header" data-v-92b43a16><h1 data-v-92b43a16>BOLT12 Has Arrived</h1> <p class="meta" data-v-0f148fb8 data-v-92b43a16>
  By

  <span data-v-0f148fb8><a href="/blog/author/Jeff Czyz" class="meta-link" data-v-0f148fb8>Jeff Czyz</a><!----></span>

  on

  4/31/2024

  - Tags:

  <span data-v-0f148fb8><a href="/blog/tags/Offers" class="meta-link" data-v-0f148fb8>Offers</a>, </span><span data-v-0f148fb8><a href="/blog/tags/Onion Messages" class="meta-link" data-v-0f148fb8>Onion Messages</a>, </span><span data-v-0f148fb8><a href="/blog/tags/Privacy" class="meta-link" data-v-0f148fb8>Privacy</a><!----></span></p> <hr data-v-92b43a16></header> <div class="theme-default-content content__default"><p>You may have heard of BOLT12—lovingly referred to as Offers—but what is it, and why should you care? In short, BOLT12 is a new payment protocol for Lightning that offers enhanced privacy, reusable payment codes, refunds, and much more, all natively over the Lightning Network. No additional servers are required. This is all possible using new technologies like onion messages and route blinding. Let’s further explore how to make use of BOLT12 in LDK.</p> <h2 id="bolt11-invoices-and-reusability"><a href="#bolt11-invoices-and-reusability" class="header-anchor">#</a> BOLT11 Invoices and Reusability</h2> <p>To understand why BOLT12 is essential, let’s briefly discuss what it’s replacing. BOLT11 defined an invoice format that, while useful, has some shortcomings. Invoices are communicated out-of-band—typically via a QR code—from recipient to sender. They are signed, making them large and thus difficult for some devices to scan. But more importantly, they can’t be safely reused since they contain a payment hash.</p> <p>In Lightning, a payment is claimed by releasing the preimage of a payment hash. Once revealed, anyone with knowledge of the preimage—which could show up on-chain—may use it to claim a payment for an invoice using the same payment hash. So, reusing invoices is a no-no if you don’t want your payment stolen. While solutions have been built up around BOLT11 for requesting unique invoices, they have significant drawbacks. It requires either running a dedicated server or trusting a third party to do so on your behalf, including all the privacy implications that this entails.</p> <h2 id="bolt12-to-the-rescue"><a href="#bolt12-to-the-rescue" class="header-anchor">#</a> BOLT12 to the Rescue</h2> <p>That’s where BOLT12 comes in. The specification defines an <em>offer</em> that can be considered a precursor to an <em>invoice</em>. It contains less data than an invoice and is smaller to display as a QR code. Optionally, it may contain blinded paths—more on that in a moment. Someone scanning an offer sends an <em>invoice request</em> to the intended recipient, who replies with an invoice containing a unique payment hash. That’s it!</p> <figure><img src="/assets/img/qr-codes.58a16df5.png" alt="BOLT11 vs BOLT12 QR Codes"></figure> <p style="text-align:center;"><i>Comparison of typical BOLT11 (left) and BOLT12 (right) QR codes</i></p> <p>So how is this all happening without a dedicated server? The magic comes in with something called <a href="../onion-messages-demystified">onion messages</a>. The Lightning protocol is defined as messages exchanged between direct peers. An onion payment involves an interchange of messages along a path, collecting fees and transferring funds until the preimage is revealed and the funds claimed.</p> <p>An onion message is very similar in that it involves sending messages along a path, encrypted as an onion such that each hop only knows where to send the message next. The difference is that they’re more efficient and don’t require locking any liquidity. Messages are forwarded until they reach the intended recipient. There is no interchange between adjacent peers to sign and revoke commitments or a round-trip along the path. Channel liquidity—or channels, for that matter—aren’t even required.</p> <h2 id="ok-so-what-about-privacy"><a href="#ok-so-what-about-privacy" class="header-anchor">#</a> OK, so what about privacy?</h2> <p>Ah, that’s where blinded paths come in. BOLT11 invoices reveal the recipient's node ID, which could be mapped to their IP address. But remember how an offer may contain some blinded paths? Those are to ensure recipient privacy. The recipient constructs a path leading to itself from some point in the Lightning Network, probably a few hops away. Then, it blinds the nodes along the route using fancy cryptography, leaving the first node unblinded. We call that the introduction node.</p> <figure><img src="/assets/img/blinded-path.2f9b76cf.svg" alt="Blinded Path"></figure> <p style="text-align:center;"><i>Depiction of a blinded path used in an offer where adjacent nodes are peers</i></p> <p>When the sender scans an offer, it constructs a path from itself to the blinded path’s introduction node. This combined path is then made into an onion for routing with the invoice request as the payload. It also contains a <em>reply path</em>—another blinded path—back to the sender, allowing the recipient to respond similarly to an invoice without revealing the sender’s node ID.</p> <p>This is taken further with the invoice, which contains <em>blinded payment paths</em>—essentially blinded paths with some additional payment information. This allows the recipient to provide partial routes with enough liquidity for payment as requests are made—yet in a privacy-preserving manner, unlike BOLT11.</p> <figure><img src="/assets/img/offers-flow.ccc79cd7.svg" alt="Offers flow"></figure> <p style="text-align:center;"><i>Offers flow of Alice paying Bob where onion messages and payments culminate over blinded paths</i></p> <p>Invoices and invoice requests are signed using keys corresponding to pubkeys in the offer and invoice request. But guess what? These can be unique since, in the presence of blinded paths, they aren’t needed for routing. By always generating new keys, payments are more difficult to correlate to the same sender or recipient, an added boon for privacy! Contrast this with a BOLT11 invoice containing the recipient’s node ID. This is so the sender can construct a route to the recipient for the payment.</p> <h2 id="offers-in-ldk"><a href="#offers-in-ldk" class="header-anchor">#</a> Offers in LDK</h2> <p>There’s a lot to BOLT12, but LDK helpfully hides all those details from you. Let’s take a look at how you would construct an offer in LDK using the familiar builder pattern.</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> offer <span class="token operator">=</span> channel_manager
    <span class="token punctuation">.</span><span class="token function">create_offer_builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span>
    <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">&quot;coffee&quot;</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">amount_msats</span><span class="token punctuation">(</span><span class="token number">10_000_000</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bech32_offer <span class="token operator">=</span> offer<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>One cool thing about offers is that they can be stateless, meaning you don’t need to store any data about them once constructed. How does this work? LDK encodes some information in the offer’s metadata, allowing it to recognize incoming invoice requests for the offer.</p> <p>Paying an offer is just as simple.</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> payment_id <span class="token operator">=</span> <span class="token class-name">PaymentId</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">;</span> <span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> retry <span class="token operator">=</span> <span class="token class-name">Retry</span><span class="token punctuation">::</span><span class="token class-name">Timeout</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">::</span><span class="token function">from_secs</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">match</span> channel_manager<span class="token punctuation">.</span><span class="token function">pay_for_offer</span><span class="token punctuation">(</span>
    offer<span class="token punctuation">,</span> quantity<span class="token punctuation">,</span> amount_msats<span class="token punctuation">,</span> payer_note<span class="token punctuation">,</span> payment_id<span class="token punctuation">,</span> retry<span class="token punctuation">,</span> max_total_routing_fee_msat
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Ok</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Requesting invoice for offer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Err</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Unable to request invoice for offer: {:?}&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// First the payment will be waiting on an invoice</span>
<span class="token keyword">let</span> expected_payment_id <span class="token operator">=</span> payment_id<span class="token punctuation">;</span>
<span class="token macro property">assert!</span><span class="token punctuation">(</span>
    channel_manager<span class="token punctuation">.</span><span class="token function">list_recent_payments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>details<span class="token closure-punctuation punctuation">|</span></span> <span class="token macro property">matches!</span><span class="token punctuation">(</span>
        details<span class="token punctuation">,</span>
        <span class="token class-name">RecentPaymentDetails</span><span class="token punctuation">::</span><span class="token class-name">AwaitingInvoice</span> <span class="token punctuation">{</span> payment_id<span class="token punctuation">:</span> expected_payment_id <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is_some</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Once the invoice is received, a payment will be sent</span>
<span class="token macro property">assert!</span><span class="token punctuation">(</span>
    channel_manager<span class="token punctuation">.</span><span class="token function">list_recent_payments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token closure-params"><span class="token closure-punctuation punctuation">|</span>details<span class="token closure-punctuation punctuation">|</span></span> <span class="token macro property">matches!</span><span class="token punctuation">(</span>
        details<span class="token punctuation">,</span>
        <span class="token class-name">RecentPaymentDetails</span><span class="token punctuation">::</span><span class="token class-name">Pending</span> <span class="token punctuation">{</span> payment_id<span class="token punctuation">:</span> expected_payment_id<span class="token punctuation">,</span> <span class="token punctuation">..</span>  <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is_some</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Here, LDK stores a small amount of data for outbound payments, which ensures you don’t pay an invoice more than once for a given payment ID.</p> <p>As the recipient, you only need to wait for an event to claim the payment.</p> <div class="language-rust extra-class"><pre class="language-rust"><code>channel_manager<span class="token punctuation">.</span><span class="token function">process_pending_events</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token operator">|</span>event<span class="token operator">|</span> <span class="token keyword">match</span> event <span class="token punctuation">{</span>
    <span class="token class-name">Event</span><span class="token punctuation">::</span><span class="token class-name">PaymentClaimable</span> <span class="token punctuation">{</span> payment_hash<span class="token punctuation">,</span> purpose<span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token keyword">match</span> purpose <span class="token punctuation">{</span>
        <span class="token class-name">PaymentPurpose</span><span class="token punctuation">::</span><span class="token class-name">Bolt12OfferPayment</span> <span class="token punctuation">{</span> payment_preimage<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>payment_preimage<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Claiming payment {}&quot;</span><span class="token punctuation">,</span> payment_hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
            channel_manager<span class="token punctuation">.</span><span class="token function">claim_funds</span><span class="token punctuation">(</span>payment_preimage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token class-name">PaymentPurpose</span><span class="token punctuation">::</span><span class="token class-name">Bolt12OfferPayment</span> <span class="token punctuation">{</span> payment_preimage<span class="token punctuation">:</span> <span class="token class-name">None</span><span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Unknown payment hash: {}&quot;</span><span class="token punctuation">,</span> payment_hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token class-name">Event</span><span class="token punctuation">::</span><span class="token class-name">PaymentClaimed</span> <span class="token punctuation">{</span> payment_hash<span class="token punctuation">,</span> amount_msat<span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Claimed {} msats&quot;</span><span class="token punctuation">,</span> amount_msat<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Similarly, the sender will receive an event when the payment is resolved.</p> <div class="language-rust extra-class"><pre class="language-rust"><code>channel_manager<span class="token punctuation">.</span><span class="token function">process_pending_events</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token operator">|</span>event<span class="token operator">|</span> <span class="token keyword">match</span> event <span class="token punctuation">{</span>
    <span class="token class-name">Event</span><span class="token punctuation">::</span><span class="token class-name">PaymentSent</span> <span class="token punctuation">{</span> payment_id<span class="token punctuation">:</span> <span class="token class-name">Some</span><span class="token punctuation">(</span>payment_id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Paid {}&quot;</span><span class="token punctuation">,</span> payment_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Event</span><span class="token punctuation">::</span><span class="token class-name">PaymentFailed</span> <span class="token punctuation">{</span> payment_id<span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Failed paying {}&quot;</span><span class="token punctuation">,</span> payment_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token class-name">Event</span><span class="token punctuation">::</span><span class="token class-name">InvoiceRequestFailed</span> <span class="token punctuation">{</span> payment_id<span class="token punctuation">,</span> <span class="token punctuation">..</span> <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">&quot;Failed paying {}&quot;</span><span class="token punctuation">,</span> payment_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>These examples work swimmingly when building a Lightning wallet programmatically. However, LDK uniquely exposes the underlying <a href="https://docs.rs/lightning/0.0.123/lightning/offers/index.html" target="_blank" rel="noopener noreferrer">offers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://docs.rs/lightning/0.0.123/lightning/blinded_path/index.html" target="_blank" rel="noopener noreferrer">blinded paths<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, and <a href="https://docs.rs/lightning/0.0.123/lightning/onion_message/index.html" target="_blank" rel="noopener noreferrer">onion message<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> modules for direct use. This means you can experiment with building your applications or add BOLT12 support to LND, such as the <a href="https://github.com/lndk-org/lndk" target="_blank" rel="noopener noreferrer">LNDK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> project.</p> <h2 id="wait-what-about-refunds"><a href="#wait-what-about-refunds" class="header-anchor">#</a> Wait, what about refunds?</h2> <p>Whereas an offer is an “offer to be paid,” a <em>refund</em> is an “offer for money.” Simply put, refunds allow a merchant to present a QR code to a customer to refund a purchase. The customer scans the refund just like it would an offer, but instead of sending the merchant an invoice request, the customer sends an invoice asking the merchant to pay.</p> <p>LDK has a similar interface for constructing a refund and requesting payment.</p> <div class="language-rust extra-class"><pre class="language-rust"><code><span class="token keyword">let</span> payment_id <span class="token operator">=</span> <span class="token class-name">PaymentId</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">42</span><span class="token punctuation">;</span> <span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> retry <span class="token operator">=</span> <span class="token class-name">Retry</span><span class="token punctuation">::</span><span class="token class-name">Timeout</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">::</span><span class="token function">from_secs</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> refund <span class="token operator">=</span> channel_manager
    <span class="token punctuation">.</span><span class="token function">create_refund_builder</span><span class="token punctuation">(</span>
        amount_msats<span class="token punctuation">,</span> absolute_expiry<span class="token punctuation">,</span> payment_id<span class="token punctuation">,</span> retry<span class="token punctuation">,</span> max_total_routing_fee_msat
    <span class="token punctuation">)</span><span class="token operator">?</span>
    <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">&quot;coffee&quot;</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">payer_note</span><span class="token punctuation">(</span><span class="token string">&quot;refund for order 1234&quot;</span><span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> bech32_refund <span class="token operator">=</span> refund<span class="token punctuation">.</span><span class="token function">to_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Like when paying an offer, LDK will track a pending payment and surface events just the same. However, for inbound payments the events will use <code>PaymentPurpose::Bolt12RefundPayment</code> instead.</p> <h2 id="achieving-statelessness"><a href="#achieving-statelessness" class="header-anchor">#</a> Achieving statelessness</h2> <p>Both offer and invoice requests contain a metadata field. This helps LDK store minimal information about a payment. For inbound payments, this equals nothing at all! So how does it work?</p> <p>LDK generates a random nonce for an offer and, along with the offer’s TLV records, computes an HMAC using a secret key. The HMAC is used to derive a key to sign the invoice. The nonce is then stored in the offer’s metadata to re-derive the signing key later.</p> <p>When an invoice request is received, it contains all the offer’s TLV records, including the metadata. By re-deriving the signing key from the metadata and TLV records, LDK can verify that the offer is authentic by checking whether the re-derived signing key corresponds to the offer’s signing pubkey. Now, it can create and sign an invoice with the key.</p> <p>If you prefer to use your signing key, LDK will also include the HMAC in the metadata. Authentication then consists of re-computing the HMAC and comparing it against the one in the metadata.</p> <p>An invoice request has its own payer metadata, which is similarly generated and includes an encrypted payment ID. Thus, when LDK receives an invoice, it can look up a pending payment with the ID and decide if the invoice should be paid after a similar authentication.</p> <figure><img src="/assets/img/offer-metadata.45a2a1cf.svg" alt="Offer metadata"></figure> <p style="text-align:center;"><i>Metadata consists primarily of a nonce and an optional HMAC, while outbound payments include an encrypted payment ID used for look-up upon receiving an invoice</i></p> <h2 id="what-s-next"><a href="#what-s-next" class="header-anchor">#</a> What’s next?</h2> <p>BOLT12 is still in a very early stage of adoption, but as you can see, there’s much promise. In the next post, we’ll explore one of the most crucial problems in Lightning—receiving offline—and how BOLT12 and asynchronous payments solve it.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/lightningdevkit/lightningdevkit.org/edit/main/docs/_blog/bolt12-has-arrived.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/18/2024, 6:18:24 PM</span></div></footer> <!----> </main></div></div> <footer class="footer" data-v-b812d5fc><div class="wrap"><div class="wrap-border"><div class="inner"><div class="footer-content"><div class="footer-block"><h4>Docs</h4> <div><a href="/introduction/" class="nav-link">
  Introduction
</a></div><div><a href="/building-a-node-with-ldk/introduction.html" class="nav-link">
  Building a node with LDK
</a></div><div><a href="/running-a-sample-ldk-node/" class="nav-link">
  Running a sample LDK node
</a></div><div><a href="/introduction/architecture/" class="nav-link">
  Architecture
</a></div><div><a href="/blockchain_data/introduction/" class="nav-link">
  Blockchain Data
</a></div><div><a href="/key_management/" class="nav-link">
  Key Management
</a></div><div><a href="/fee_estimation/" class="nav-link">
  Fee Estimation
</a></div><div><a href="/probing/" class="nav-link">
  Probing and Path Finding
</a></div><div><a href="/examples/" class="nav-link">
  Examples
</a></div></div><div class="footer-block"><h4>Community</h4> <div><a href="https://github.com/lightningdevkit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div><a href="https://twitter.com/lightningdevkit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div><a href="https://discord.gg/5AcknnMfBw" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Chat on Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div><a href="https://calendar.google.com/calendar/embed?src=c_e6fv6vlshbpoob2mmbvblkkoj4%40group.calendar.google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LDK Calendar
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div><a href="http://ldk.reviews/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LDK Review Club
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div><a href="/code_of_conduct.html" class="nav-link">
  Code of Conduct
</a></div></div><div class="footer-block"><h4>Resources</h4> <div><a href="/case-studies/" class="nav-link">
  Case Studies
</a></div><div><a href="/blog/" class="nav-link router-link-active">
  Blog
</a></div></div><div class="footer-block"><h4>Other</h4> <div><a href="https://bitcoindevkit.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bitcoin Dev Kit
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div><a href="https://github.com/lightningdevkit/rust-lightning/blob/main/SECURITY.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Reporting a Vulnerability
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></div></div> <p class="copyright">Copyright © 2024 LDK Developers</p></div></div></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c3c35535.js" defer></script><script src="/assets/js/9.4b00279e.js" defer></script><script src="/assets/js/1.9b656a97.js" defer></script><script src="/assets/js/12.0cfb594b.js" defer></script>
  </body>
</html>
