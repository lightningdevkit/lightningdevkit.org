(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{456:function(e,t,n){"use strict";n.r(t);var o=n(7),a=Object(o.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"running-a-sample-ldk-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#running-a-sample-ldk-node"}},[e._v("#")]),e._v(" Running a sample LDK node")]),e._v(" "),t("p",[e._v("Let's run our first LDK node. We'll ensure we have a compatible Rust toolchain installed, setup Polar to create a local Lightning network and then start running the node.")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("Not recommended for production use!")]),e._v(" "),t("p",[e._v("This guide is a quick start to get you up and running with an LDK node. It serves as a playground and a foundation to build upon and is NOT recommended for production environments. LDK doesn't come with a pre-packaged node but gives you the tools to build a node from scratch!")])]),e._v(" "),t("h2",{attrs:{id:"installing-rust"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installing-rust"}},[e._v("#")]),e._v(" Installing Rust")]),e._v(" "),t("p",[e._v("If you already have a working installation of the latest Rust compiler, feel free to skip to the next section.")]),e._v(" "),t("p",[e._v("To install the latest version of Rust, we recommend using "),t("code",[e._v("rustup")]),e._v(". Install "),t("code",[e._v("rustup")]),e._v(" by following the instructions on "),t("a",{attrs:{href:"https://rustup.rs/",target:"_blank",rel:"noopener noreferrer"}},[e._v("its website"),t("OutboundLink")],1),e._v(". Once "),t("code",[e._v("rustup")]),e._v(" is installed, ensure the latest toolchain is installed by running the command:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("rustup default stable\n")])])]),t("h2",{attrs:{id:"setup-polar"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setup-polar"}},[e._v("#")]),e._v(" Setup Polar")]),e._v(" "),t("p",[e._v("Next, let's setup Polar, which was built to help Lightning Network application developers quickly spin up one or more networks locally on their computers in regtest mode.")]),e._v(" "),t("p",[e._v("Polar can be "),t("a",{attrs:{href:"https://lightningpolar.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("downloaded"),t("OutboundLink")],1),e._v(" for MacOS, Linux, and Windows. The source code is hosted "),t("a",{attrs:{href:"https://github.com/jamaljsr/polar/releases/",target:"_blank",rel:"noopener noreferrer"}},[e._v("on Github"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Mac and Windows users will need to install "),t("a",{attrs:{href:"https://www.docker.com/products/docker-desktop",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Desktop"),t("OutboundLink")],1),e._v(" as a dependency before using Polar. Linux users will need to download both "),t("a",{attrs:{href:"https://docs.docker.com/get-docker/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Server"),t("OutboundLink")],1),e._v(" and "),t("a",{attrs:{href:"https://docs.docker.com/compose/install/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Compose"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("After downloading, installing, and running Polar, spin up a new cluster of LND, Core Lightning, eclair, and bitcoind nodes. This will create a Docker container within which Polar will operate.")]),e._v(" "),t("p",[e._v("Click the orange "),t("strong",[e._v("Create Network")]),e._v(" button and Polar should display a new interface.")]),e._v(" "),t("p",[e._v("Press the orange "),t("strong",[e._v("Start")]),e._v(" button in the top right corner to start your local network. It takes a couple seconds for the nodes to boot up, but the indicator lights will eventually turn green signaling that the process has completed.")]),e._v(" "),t("h2",{attrs:{id:"running-the-ldk-sample-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#running-the-ldk-sample-node"}},[e._v("#")]),e._v(" Running the LDK Sample Node")]),e._v(" "),t("p",[e._v("Start by cloning the LDK sample node from Github and changing into the new directory")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("git clone https://github.com/lightningdevkit/ldk-sample\ncd ldk-sample\n")])])]),t("p",[e._v("Now, run the following command:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("cargo run polaruser:polarpass@127.0.0.1:18443 ./ 9732 regtest hellolightning 0.0.0.0:9732\n")])])]),t("p",[e._v("If you have a different setup that doesn't involve Polar you can modify this command so that it contains different credentials.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("cargo run <bitcoind-rpc-username>:<bitcoind-rpc-password>@<bitcoind-rpc-host>:<bitcoind-rpc-port> <ldk_storage_directory_path> [<ldk-peer-listening-port>] [<bitcoin-network>] [<announced-node-name>] [<announced-listen-addr>]\n")])])]),t("p",[t("code",[e._v("bitcoind")]),e._v("'s RPC username and password likely can be found through "),t("code",[e._v("cat ~/.bitcoin/.cookie")]),e._v(".")]),e._v(" "),t("p",[t("code",[e._v("bitcoin-network")]),e._v(": defaults to "),t("code",[e._v("testnet")]),e._v(". Options: "),t("code",[e._v("testnet")]),e._v(", "),t("code",[e._v("regtest")]),e._v(", and "),t("code",[e._v("signet")]),e._v(".")]),e._v(" "),t("p",[t("code",[e._v("ldk-peer-listening-port")]),e._v(": defaults to 9735.")]),e._v(" "),t("p",[t("code",[e._v("announced-node-name")]),e._v(" and "),t("code",[e._v("announced-listen-addr")]),e._v(" : default to nothing, disabling any public announcements of this node.")]),e._v(" "),t("p",[t("code",[e._v("announced-node-name")]),e._v(": can be any string up to 32 bytes in length, representing this node's alias.\n"),t("code",[e._v("announced-listen-addr")]),e._v(": can be set to an IPv4 or IPv6 address to announce that as a publicly-connectable address for this node.")]),e._v(" "),t("p",[e._v("Your LDK node should now be in action!")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('LDK startup successful. To view available commands: "help".\nLDK logs are available at <your-supplied-ldk-data-dir-path>/.ldk/logs\nLocal Node ID is 02e8788eb41ac1731352d87ced719afce91a1201cf0d6cca12ee79502db1b0e317.\n')])])]),t("p",[e._v("If you want to connect to another node you created with Polar select the node there. In the "),t("strong",[e._v("Connect")]),e._v(" tab you can copy the "),t("code",[e._v("P2P External")]),e._v(" connection info. Running "),t("code",[e._v("connectpeer")]),e._v(" with that will get you connected.")]),e._v(" "),t("p",[e._v("To check out the complete reference for constructing a Lightning node with LDK check out the "),t("a",{attrs:{href:"https://github.com/lightningdevkit/ldk-sample",target:"_blank",rel:"noopener noreferrer"}},[e._v("Github repo"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=a.exports}}]);